<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<title>QAV250 Build Guide - Aruco Autonomous Drones</title>
<link href="../../css/theme.css" rel="stylesheet"/>
<link href="../../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<link href="../../kbd.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "QAV250 Build Guide";
        var mkdocs_page_input_path = "drone/build_qav250_exercise.md";
        var mkdocs_page_url = null;
      </script>
<!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../.."> Aruco Autonomous Drones
        </a><div role="search">
<form action="../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<p class="caption"><span class="caption-text">Building Drone</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../drone_basics/">Introduction to Drones</a>
</li>
<li class="toctree-l1 current"><a class="reference internal current" href="#">QAV250 Build Guide</a>
<ul class="current">
<li class="toctree-l2"><a class="reference internal" href="#building-a-qav250">2.1 Building a QAV250</a>
<ul>
<li class="toctree-l3"><a class="reference internal" href="#build-instruction-sheet">2.1.1 Build Instruction Sheet</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#power-distribution-board-and-escs">2.1.2 Power Distribution Board and ESCs</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#motors">2.1.3 Motors</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pixhawk-6c-flight-controller">2.1.4 Pixhawk 6C Flight Controller</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#connecting-the-sik-radio">2.1.5 Connecting the SIK Radio</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#connecting-the-remote-control-aka-receiver-rx-and-transmitter-tx">2.1.6 Connecting the remote control (aka receiver Rx and transmitter Tx)</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#attaching-the-raspberry-pi-companion-computer">2.1.7 Attaching the Raspberry Pi Companion Computer</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#attaching-the-rangefinder">2.1.8 Attaching the rangefinder</a>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#drone-setup">2.2 Drone Setup</a>
<ul>
<li class="toctree-l3"><a class="reference internal" href="#ground-station-qgroundcontrol">2.2.1 Ground Station - QGroundControl</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Simulation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../simulation/intro_to_linux/">A Brief Introduction to Linux</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../simulation/intro_ros2_uav/">Intro to ROS2 and UAVs</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../simulation/installation/">Project Installation</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../simulation/example/">Example Scenario</a>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../..">Aruco Autonomous Drones</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href="../.."></a></li>
<li class="breadcrumb-item">Building Drone</li>
<li class="breadcrumb-item active">QAV250 Build Guide</li>
<li class="wy-breadcrumbs-aside">
<a class="icon icon-github" href="https://github.com/ucl-delta/project_gazebo_aruco/edit/master/docs/drone/build_qav250_exercise.md"> Edit on GitHub</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="qav250-build-guide-no-hints"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.</span> QAV250 Build Guide (No Hints)<a class="headerlink" href="#qav250-build-guide-no-hints" title="Permanent link">¶</a></h1>
<p>This page contains a no-hints set of links pointing out how to build a QAV250 drone kit to the one we have specced out here at UCL for our drone research </p>
<div class="toc">
<ul>
<li><a href="#qav250-build-guide-no-hints">2. QAV250 Build Guide (No Hints)</a><ul>
<li><a href="#building-a-qav250">2.1 Building a QAV250</a><ul>
<li><a href="#build-instruction-sheet">2.1.1 Build Instruction Sheet</a></li>
<li><a href="#power-distribution-board-and-escs">2.1.2 Power Distribution Board and ESCs</a></li>
<li><a href="#motors">2.1.3 Motors</a></li>
<li><a href="#pixhawk-6c-flight-controller">2.1.4 Pixhawk 6C Flight Controller</a></li>
<li><a href="#connecting-the-sik-radio">2.1.5 Connecting the SIK Radio</a></li>
<li><a href="#connecting-the-remote-control-aka-receiver-rx-and-transmitter-tx">2.1.6 Connecting the remote control (aka receiver Rx and transmitter Tx)</a></li>
<li><a href="#attaching-the-raspberry-pi-companion-computer">2.1.7 Attaching the Raspberry Pi Companion Computer</a></li>
<li><a href="#attaching-the-rangefinder">2.1.8 Attaching the rangefinder</a></li>
</ul>
</li>
<li><a href="#drone-setup">2.2 Drone Setup</a><ul>
<li><a href="#ground-station-qgroundcontrol">2.2.1 Ground Station - QGroundControl</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="building-a-qav250"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.1</span> Building a QAV250<a class="headerlink" href="#building-a-qav250" title="Permanent link">¶</a></h2>
<p>As mentioned in the drone basics chapter, broadly a drone's physical components can be split into four types </p>
<ol>
<li>Chassis</li>
<li>Flight Controller</li>
<li>Motors and Power Electronics </li>
<li>Communications and Sensors</li>
</ol>
<p>You will need to have a very careful think about the order that you build and construct the various parts, the wrong order might cause screws to be covered up, or connectors to be blocked up. </p>
<p>Resources:</p>
<ul>
<li><a href="https://docs.px4.io/v1.14/en/frames_multicopter/holybro_qav250_pixhawk4_mini.html">PX4 QAV250 Build Guide (OLD)</a></li>
</ul>
<h3 id="build-instruction-sheet"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.1.1</span> Build Instruction Sheet<a class="headerlink" href="#build-instruction-sheet" title="Permanent link">¶</a></h3>
<p>The Pdf link of the instruction sheet printed out on the table</p>
<p><img alt="Picture of the instruction sheet" src="../images/build_sheet.png"/></p>
<blockquote>
<p>It is recommended that you don't put the top plate on until you are sure everything is up and ready to fly</p>
</blockquote>
<h3 id="power-distribution-board-and-escs"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.1.2</span> Power Distribution Board and ESCs<a class="headerlink" href="#power-distribution-board-and-escs" title="Permanent link">¶</a></h3>
<p>One of the first components you will come across is the spidery looking bunch of cables attached to a central board</p>
<p><img alt="Power Distribution Board (pdb)" src="../images/pdb_connections.png"/></p>
<p>The main board is what is known as the power distribution board and is responsible for powering all the components on the drone, as well as handling the high current draws required by the motors! </p>
<p>Each of the four legs contains what is known as the electronic speed controller (ESC). The ESC manages the speed (current draw) of the motor using an input signal from the flight controller. The input signal is often a specific PWM aka pulse width modulation signal. The cables here are rather thick to enable the high current that is required to power the motors. This is a key component in flight. The signal cables plug into the back of the FC in slots 1,2,3 and 4. </p>
<p><img alt="Insert picture of the ESC" src="../images/esc_connection.png"/></p>
<blockquote>
<p>Note: Watch the orientation of the ESCs when you attach them, they are soldered in such a way that two of them are intentionally upside down when laid flat. </p>
<p>Note: You will need to double check the order of the ESC cables are plugged into the FC when you get to running the software configuration. Making a mistake here may cause the drone to be uncontrollable! Rea</p>
</blockquote>
<p>The final component attached by the thin red and black wires are a video transmitter powering module. This is a second module used to transmit video data in analogue but low latency manner to a receiver. <a href="https://holybro.com/products/micro-power-module-pm06-v2?srsltid=AfmBOoomwZmf0czXNVOHfgPkEa4Q1scswnvMRG8EOWrfR6RyyRrEZqo-">Here</a> is a link to the device, work out how the video transmission is powered! </p>
<p><img alt="Insert picture and link to the specifc device" src="../images/osd.png"/></p>
<blockquote>
<p>Note: that one of the connectors is shown to connect to the flight controller. We are replacing this connection with a connection from the FC to an onboard computer instead. </p>
</blockquote>
<h3 id="motors"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.1.3</span> Motors<a class="headerlink" href="#motors" title="Permanent link">¶</a></h3>
<p>You will see that there are no instructions on installing the motors! </p>
<p>Hopefully you have a good idea of where the motors are meant to go! Try and install them so that the wires go towards the chasis and dont poke out the side. </p>
<p>We have printed some propellor guards for the drone, these go under the arm using the same mounting points as the motors. You will need the m3x8mm bolts. Ensure that they are securely fastened.</p>
<p><img alt="Insert picture of prop guard attachment point" src="../images/prop_guard.png"/></p>
<p>We have also printed off some longer landing legs for the drone too to accomodate the companion computer underneath. Attach those with appropriate bolts and nylock nuts too.</p>
<p><img alt="Insert picture of leg attachment point" src="../images/leg_parts.png"/></p>
<blockquote>
<p><strong>DO NOT INSTALL THE PROPELLORS YET</strong></p>
</blockquote>
<p>The motors should plug into the ESCs in a sraightforward manner with left cable going to left banana plug, center to center and right to right. </p>
<p><img alt="Insert picture of motor" src="../images/esc_connection.png"/></p>
<p>Compare your setup with the example drone before you use a ziptie to fix down the ESC. </p>
<h3 id="pixhawk-6c-flight-controller"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.1.4</span> Pixhawk 6C Flight Controller<a class="headerlink" href="#pixhawk-6c-flight-controller" title="Permanent link">¶</a></h3>
<p>The QAV250 uses the Pixhawk 6C Flight controller. This is essentially a small computer (embedded microcontroller) which is designed to support the low level high frequency control of a UAV (e.g. stable flight), communications and basic sensor processing. </p>
<p>The 6C has a number of ports on all sides of the drone - read a bit about it on the docs to work out what each one is for! </p>
<p><img alt="Picture of the Pixhawk 6C Flight Controller" src="../images/pixhawk6c.png"/></p>
<p>This will have a lot of cables coming out of it, but you probably want to work out how to power it! </p>
<blockquote>
<p>Note: Use the custom cable with the jumper cables coming out of them - this will be used for powering the companion computer later. </p>
</blockquote>
<h3 id="connecting-the-sik-radio"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.1.5</span> Connecting the SIK Radio<a class="headerlink" href="#connecting-the-sik-radio" title="Permanent link">¶</a></h3>
<p>The second communication method (after the passive video feed communication method) is using the SIK Radios on 433 MHz. </p>
<p>There are a pair of them, one to go onboard the drone, and the other is designed to plug into your computer by USB! </p>
<p>This should be plugged into TELEM1 of the FC and it should start transmitting data to the reciever when turned on. </p>
<p><img alt="sik radio" src="../images/sik_radio.png"/></p>
<h3 id="connecting-the-remote-control-aka-receiver-rx-and-transmitter-tx"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.1.6</span> Connecting the remote control (aka receiver Rx and transmitter Tx)<a class="headerlink" href="#connecting-the-remote-control-aka-receiver-rx-and-transmitter-tx" title="Permanent link">¶</a></h3>
<p>We have bought some flysky i6x Transmitters (Txs) which can fly the drones. These come in two parts, a Tx ad a receiver (RX). In the most basic drone setups, you can directly control all of the motors from a Rx! However we have a slightly more complex setup to enable autonomy. </p>
<p>The receiver is the following: </p>
<p>Try and work out how it might connect into the flight controller, and also get powered on! </p>
<blockquote>
<p>Hint: You will need to plug in two of the cables between the Rx and the FC, one of them is a custom cable. </p>
</blockquote>
<p>We have printed out a custom holder for it - slot the Rx into the holder and use some M2 screws to tighten it down. Antennae thread through the cyliners. Then use some spare double sided sticky tape to attach it to the top plate towards the front (doesn't get in the way of battery). </p>
<p><img alt="receiver" src="../images/receiver.png"/></p>
<h3 id="attaching-the-raspberry-pi-companion-computer"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.1.7</span> Attaching the Raspberry Pi Companion Computer<a class="headerlink" href="#attaching-the-raspberry-pi-companion-computer" title="Permanent link">¶</a></h3>
<p>Now you may have noticed a large component that is not on the original instructions. We want to add autonomy, and that will often involve adding a companion computer to the drone. The purpose of the companion computer is to perform higher level functionality involved with completing the task. This may be mission planning, path planning, computer vision, higher level comms etc. </p>
<p>Here we have chosen to use a Raspberry Pi 4B single board computer as its a nice little compact package which has enough compute and compatibility to help perform the autonomy we are aiming for. (In this case run ROS2!)</p>
<p>Place the raspberry pi into the 3D printed case and carefully screw it in. Then screw in the raspberry pi camera into the top surface of the case using some m2 nuts and bolts. Use the dual-loc velcro like tape to attach it to the bottom of the drone! Make sure you don't cover up any of the screw access holes! </p>
<p><img alt="Picture of attachment of pi case" src="../images/pi_case.png"/></p>
<p>The pi will be both powered and connected to the FC via its GPIO (general purpose IO pins). For powering, the PI will be directly powered using the 5v pin - you can plug the connector into the spot with a 5v next to a ground! For talking to the FC, you can use the custom cable to connect the <code>TELEM2</code> port to the <code>UART</code> pins of the Pi. See the following diagram for details:</p>
<p><img alt="Insert link to PX4/Pi connection and picture of GPIO" src="../images/pi_connection.png"/></p>
<blockquote>
<p><strong>NOTE: Make sure you plug the power connector the right way around. Plugging it in the wrong way or in the wrong pins can blow the Pi.</strong></p>
</blockquote>
<h3 id="attaching-the-rangefinder"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.1.8</span> Attaching the rangefinder<a class="headerlink" href="#attaching-the-rangefinder" title="Permanent link">¶</a></h3>
<p>We have also included the VL53L1X rangefinder sensor - this uses a light or infrared beam to work out the distance to an object. In our case we will be mounting it to the bottom of our drone to tell us its height. </p>
<p>Use some of the leftover tape to stick it to the underside towards the front, under the video transmitter unit. This will need to plug into the FC, but have a think of where it might go as a sensor! </p>
<p><img alt="Insert picture of rangefinder in position on drone" src="../images/rangefinder.png"/></p>
<h2 id="drone-setup"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.2</span> Drone Setup<a class="headerlink" href="#drone-setup" title="Permanent link">¶</a></h2>
<p>In this section we go over how to setup the drone to prepare it for first flight</p>
<h3 id="ground-station-qgroundcontrol"><span class="enumerate-headings-plugin enumerate-heading-plugin">2.2.1</span> Ground Station - QGroundControl<a class="headerlink" href="#ground-station-qgroundcontrol" title="Permanent link">¶</a></h3>
<p>First things first, you should download <a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/getting_started/download_and_install.html">QGroundControl</a>. This is a ground station software that PX4 based projects use. It should support all platforms. </p>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../drone_basics/" title="Introduction to Drones"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../../simulation/intro_to_linux/" title="A Brief Introduction to Linux">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
<p>Copyright © 2024 University College London AML Lab</p>
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span>
<a class="fa fa-github" href="https://github.com/ucl-delta/project_gazebo_aruco" style="color: #fcfcfc"> GitHub</a>
</span>
<span><a href="../drone_basics/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../../simulation/intro_to_linux/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "../..";</script>
<script src="../../js/theme_extra.js"></script>
<script src="../../js/theme.js"></script>
<script src="../../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
</body>
</html>
